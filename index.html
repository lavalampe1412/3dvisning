<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>3D Rental Scan — Live Walkthrough</title>
    <meta name="description" content="Immersive 3D property walkthroughs and floor plans for rental listings." />

    <!-- New vibe: Sleek dark + glass, bold geometric type -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
      :root{
        --bg: #0a0b0f;
        --panel: #0f1117;        /* card base */
        --glass: rgba(255,255,255,.06);
        --line: rgba(255,255,255,.10);
        --text: #e6e8ee;
        --muted: #a9afbf;
        --accent: #6ee7ff;       /* cyan glow */
        --accent-2: #9b87f5;     /* soft violet */
        --radius: 22px;
        --shadow: 0 30px 80px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
      }
      *{ box-sizing:border-box }
      html,body{ height:100% }
      body{
        margin:0; color:var(--text);
        font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background:
          radial-gradient(800px 400px at 10% -10%, rgba(155,135,245,.18), transparent 60%),
          radial-gradient(900px 500px at 120% 20%, rgba(110,231,255,.18), transparent 60%),
          var(--bg);
        -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      }
      h1,h2,h3{ font-family: Sora, Manrope, system-ui, sans-serif; letter-spacing:.1px }
      a{ color:inherit; text-decoration:none }
      .container{ max-width: 1200px; margin: 0 auto; padding: 16px; }

      /* Header — floating pill */
      header{ position: sticky; top: 12px; z-index: 40; }
      .nav{
        display:flex; align-items:center; justify-content:space-between; gap:16px;
        backdrop-filter: blur(10px) saturate(1.3);
        background: linear-gradient(180deg, var(--glass), rgba(255,255,255,.04));
        border: 1px solid var(--line);
        border-radius: 999px; padding: 10px 14px; box-shadow: var(--shadow);
      }
      .logo{ display:grid; place-items:center; width:40px; height:40px; border-radius:12px;
        background: linear-gradient(135deg, var(--accent-2), var(--accent));
        color:#0a0b0f; font-weight:900; letter-spacing:.4px; }
      .brand{ display:flex; align-items:center; gap:10px; }
      .brand span{ font-weight:800; font-size:15px }
      .links{ display:none; gap:16px; color:var(--muted); font-size:13px }
      @media (min-width:900px){ .links{ display:flex } }

      /* Buttons */
      .btn{ display:inline-flex; align-items:center; justify-content:center; gap:.6rem; font-weight:700; font-size:13px; border-radius: 999px; padding:.75rem 1.05rem; border:1px solid var(--line); background: rgba(255,255,255,.04); color:var(--text); cursor:pointer; transition: all .18s ease; }
      .btn:hover{ background: rgba(255,255,255,.07) }
      .btn:active{ transform: translateY(1px) }
      .btn-primary{ border-color: transparent; background: linear-gradient(135deg, var(--accent-2), var(--accent)); color:#0a0b0f; box-shadow: 0 12px 30px rgba(110,231,255,.18); }
      .btn-primary:hover{ filter: brightness(1.05) }

      /* Grid */
      .hero{ padding: 18px 0 32px }
      .grid{ display:grid; grid-template-columns: 1fr; gap: 18px }
      @media (min-width: 1000px){ .grid{ grid-template-columns: 1.25fr .75fr; gap: 22px } }

      /* Main service card */
      .card{
        background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)), var(--panel);
        border:1px solid var(--line); border-radius: var(--radius); box-shadow: var(--shadow); overflow:hidden;
      }
      .card-head{ display:flex; align-items:start; justify-content:space-between; gap:14px; padding: 18px 18px 0 18px }
      .title{ font-size: clamp(20px, 2.3vw, 26px); font-weight:800 }
      .chips{ display:flex; gap:8px; flex-wrap:wrap; }
      .chip{ font-size:12px; color:var(--muted); border:1px solid var(--line); background: rgba(255,255,255,.03); padding:.4rem .7rem; border-radius: 999px }
      .flag{ display:inline-flex; align-items:center; gap:.5rem; font-size:11px; font-weight:800; color:#0a0b0f; background: linear-gradient(135deg, var(--accent-2), var(--accent)); border-radius: 999px; padding:.5rem .75rem }

      .viewer{ position:relative; margin: 16px; border-radius: calc(var(--radius) - 6px); overflow:hidden; background:#000; aspect-ratio: 16/9; max-height: 72vh }
      @media (min-width: 1000px){ .viewer{ aspect-ratio:auto; height:min(72vh,760px) } }
      iframe{ position:absolute; inset:0; width:100%; height:100%; border:0 }

      .card-foot{ display:grid; grid-template-columns: 1fr; gap:14px; padding: 0 18px 18px }
      @media (min-width: 720px){ .card-foot{ grid-template-columns: 1fr auto; align-items:center } }
      .bullets{ display:flex; flex-wrap:wrap; gap:10px 16px; font-size: 13px; color: var(--muted) }
      .dot{ width:6px; height:6px; border-radius:999px; background: var(--accent); margin-top:.45rem }

      /* Side info */
      .side{ background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)), var(--panel); border:1px solid var(--line); border-radius: var(--radius); padding:18px; box-shadow: var(--shadow) }
      .side h3{ margin:0 0 6px 0; font-size:18px; font-weight:800 }
      .side p{ margin:0; color: var(--muted); font-size:14px }
      .list{ list-style:none; margin:14px 0 0; padding:0; display:grid; gap:10px }
      .tag{ display:inline-flex; align-items:center; justify-content:center; min-width:44px; height:26px; padding:0 10px; border-radius:10px; background: rgba(255,255,255,.05); border:1px solid var(--line); color:var(--text); font-weight:800; font-size:12px }
      .price{ margin-top:16px; display:flex; align-items:baseline; gap:10px }
      .price .big{ font-family:Sora, Manrope, sans-serif; font-size:28px; font-weight:800 }
      .note{ margin-top:6px; color: var(--muted); font-size:12px }

      /* Footer */
      footer{ border-top:1px solid var(--line); color: var(--muted); font-size: 13px; margin-top: 12px }
      .foot{ display:flex; align-items:center; justify-content:space-between; padding:16px 0 }

      /* Dialog */
      dialog::backdrop{ backdrop-filter: blur(12px) saturate(1.2); background: rgba(10,11,15,.5) }
      .dlg{ background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)), var(--panel); border:1px solid var(--line); border-radius: 18px; padding:14px; width:min(92vw,620px); color:var(--text); box-shadow: var(--shadow) }
      .input{ width:100%; padding:.8rem 1rem; border-radius:12px; border:1px solid var(--line); background: rgba(255,255,255,.04); color:var(--text) }
    </style>
  </head>
  <body>
    <header class="container">
      <div class="nav">
        <a class="brand" href="#home" aria-label="3D Rental Scan">
          <div class="logo">3D</div>
          <span>Rental Scan</span>
        </a>
        <nav class="links">
          <a href="#services">Services</a>
          <a href="#pricing">Pricing</a>
          <a href="#faq">FAQ</a>
        </nav>
        <a class="btn btn-primary" href="#contact">Book a scan</a>
      </div>
    </header>

    <main class="container hero">
      <div class="grid">
        <article class="card" aria-label="3D walkthrough and floor plan">
          <div class="card-head">
            <div>
              <div class="title">Interactive 3D Walkthrough <span style="opacity:.6">+</span> Floor Plan</div>
              <div class="chips">
                <span class="chip">Rental‑ready</span>
                <span class="chip">Shareable link</span>
                <span class="chip">Embed anywhere</span>
              </div>
            </div>
            <div class="flag">Next‑day delivery</div>
          </div>

          <div class="viewer">
            <iframe id="viewer" title="3D Walkthrough"
              allow="xr-spatial-tracking; gyroscope; accelerometer; vr; fullscreen"
              allowfullscreen
              src="https://my.matterport.com/show/?m=ReKKmbfowSX&brand=0&play=1&wh=0">
            </iframe>
          </div>

          <div class="card-foot">
            <div class="bullets">
              <span class="dot"></span><span>Works on FINN, Airbnb & any website</span>
              <span class="dot"></span><span>Measured floor plan (PDF/PNG/SVG)</span>
              <span class="dot"></span><span>Clean MLS mode (no branding)</span>
            </div>
            <div class="btn-row" style="display:flex; gap:10px; flex-wrap:wrap">
              <button id="loadPanelBtn" class="btn">Load your tour</button>
              <a class="btn btn-primary" href="#contact">Get a quote</a>
            </div>
          </div>
        </article>

        <aside class="side" id="services">
          <h3>What you get</h3>
          <p>Capture once, use everywhere. Ideal for long‑term rentals, corporate lets, and short‑stay listings.</p>
          <ul class="list">
            <li style="display:flex; gap:10px; align-items:flex-start"><span class="tag">3D</span><div>Immersive walk‑through on web & mobile</div></li>
            <li style="display:flex; gap:10px; align-items:flex-start"><span class="tag">Plan</span><div>Measured floor plan with room labels</div></li>
            <li style="display:flex; gap:10px; align-items:flex-start"><span class="tag">Host</span><div>30–90 days hosting (extendable)</div></li>
            <li style="display:flex; gap:10px; align-items:flex-start"><span class="tag">Help</span><div>Embed support for FINN/Airbnb</div></li>
          </ul>
          <div class="price" id="pricing">
            <div class="big">from NOK 3 490</div>
            <div class="note">incl. 3D tour + plan</div>
          </div>
          <p class="note">Travel fee may apply outside city limits.</p>
        </aside>
      </div>

      <footer>
        <div class="foot">
          <div>© <span id="year"></span> 3D Rental Scan — Oslo, Norway</div>
          <div><a href="#faq">FAQ</a> • <a href="#contact">Contact</a></div>
        </div>
      </footer>
    </main>

    <!-- Loader dialog -->
    <dialog id="loader">
      <div class="dlg">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px">
          <strong style="font-family:Sora,Manrope,sans-serif">Load a 3D tour URL</strong>
          <button id="closeLoader" class="btn" style="padding:.45rem .7rem">✕</button>
        </div>
        <div style="display:flex; gap:8px">
          <input id="tourUrl" type="url" placeholder="Matterport / 3DVista / Kuula link" class="input" />
          <button id="loadBtn" class="btn btn-primary">Load</button>
        </div>
        <p class="note">Tip: Matterport <code>&play=1&brand=0</code>. You can also use <code>?tour=...</code> on this page.</p>
      </div>
    </dialog>

    <script>
      const viewer = document.getElementById('viewer');
      const loader = document.getElementById('loader');
      const loadBtn = document.getElementById('loadBtn');
      const tourUrl = document.getElementById('tourUrl');
      const loadPanelBtn = document.getElementById('loadPanelBtn');

      // Open/close loader
      loadPanelBtn.addEventListener('click', ()=> loader.showModal());
      document.getElementById('closeLoader').addEventListener('click', ()=> loader.close());

      function normalize(url){
        try{ const u = new URL(url);
          if (/matterport\.com/.test(u.hostname)){
            if (!u.pathname.startsWith('/show')) u.pathname = '/show/';
            const p = new URLSearchParams(u.search);
            if (!p.has('play')) p.set('play','1');
            if (!p.has('brand')) p.set('brand','0');
            u.search = '?' + p.toString();
          }
          if (/kuula\.co/.test(u.hostname)){
            u.pathname = u.pathname.replace('/share/','/embed/');
          }
          return u.toString();
        }catch(e){ return null }
      }

      loadBtn.addEventListener('click', ()=>{
        const v = tourUrl.value.trim();
        const n = normalize(v);
        if(!n){ alert('Paste a valid URL'); return }
        viewer.src = n; loader.close();
      });

      // Preload via ?tour=
      (function(){
        const qs = new URLSearchParams(location.search);
        const t = qs.get('tour');
        if (t){ const n = normalize(t); if(n) viewer.src = n }
      })();

      // Year
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>
  </body>
</html>